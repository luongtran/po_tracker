<style type="text/css">
  .left {
    width:20%;
    float:left;
  }

  .right {
    width:20%;
    float:left;
  }
  .row {
    //   border-bottom: solid 1px;
    padding:10px;
  }
  .question_approver{
    width: 20%;
    float: right;
  }
  question_approver_left,question_approver_right{
    width: 10%;
    float: left;
  } 
</style>
<% i = 0 %>
<% @vendor_questionnaire_groups.each_with_index do |group,index| %>
  <b>Questionnaire group # <%= index + 1 %></b><br/>
  <b>Approver name:</b><span class=""><%= group.employee_name %></span><br/>
  <b>List question :</b><br/>        
  <% group.questions.each do |questionnaire_question| %>
    <% 
    q = questionnaire_question 
  %>
    <div class="row">
      <div class="question_area">

        <b> <%=h q.question %></b>
      </div>

      <div class="form" id="answers_area">
        <%= hidden_field "vendor_questionnaire_answers_#{i}", :question_id, :value => q.id %>
        <% vendor_answer = answer(@vendor_questionnaire, q) %>

        <% case q.question_type %>
        <% when Question::TYPES[:text] %>
          <%= text_field "vendor_questionnaire_answers_#{i}", :answer, :value => vendor_answer ,disabled: "disabled" %>
        <% when Question::TYPES[:list] %>
          <%= text_area "vendor_questionnaire_answers_#{i}", :answer, :value => vendor_answer ,rows: "5",cols: "140" ,disabled: "disabled" %>
        <% when Question::TYPES[:bool] %>
          <div class="left">
            <%= radio_button "vendor_questionnaire_answers_#{i}", :answer, "Yes", :checked => (vendor_answer == "Yes"),disabled: "disabled" %> Yes
          </div>
          <div class="right">
            <%= radio_button "vendor_questionnaire_answers_#{i}", :answer, "No", :checked => (vendor_answer == "No") ,disabled: "disabled" %> No
          </div>
        <% when (Question::TYPES[:multiple]) %>
          <% j = 1 %>
          <% q.question_answers.each do |answer| %>
            <div class="<%= j % 2 == 0 ? 'right' : 'left' %> answer_wrapper">
              <%= check_box_tag "question_answer_ids_#{questionnaire_question.id}[]",  answer.id, is_vendor_answer(answer.id, @vendor_questionnaire),disabled: "disabled" %>
              <%= answer.answer %>
            </div>
          <% end %>

        <% when (Question::TYPES[:single]) %>
          <% j = 1 %>
          <% q.question_answers.each do |answer| %>
            <div class="<%= j % 2 == 0 ? 'right' : 'left' %> answer_wrapper">
              <%= radio_button "vendor_questionnaire_answers_#{i}", :question_answer_id, answer.id, :checked => (vendor_answer == answer.id),disabled: "disabled" %>
              <%= answer.answer %>
            </div>
          <% end %>

        <% end %>

      </div>
      <div class="question_approver">
        <div class="question_approver_left">
          <%= radio_button "question_approver_status_#{q.id}", :answer_approval, "approved", :checked => (q.approve_status(group.id) == "approved"),disabled: (group.approver_id != @user.id) %> Approve
        </div>
        <div class="question_approver_right">
          <%= radio_button "question_approver_status_#{q.id}", :answer_approval, "rejected", :checked => (q.approve_status(group.id) == "rejected"),disabled: (group.approver_id != @user.id) %> Reject
        </div>          
      </div>
      <div class="clear"></div>
    </div>
    <% i += 1%>
  <% end %>
  <% if group.vendor_questionnaire_approvals.length > 0 %>
    <% @text = "Approver signature" %>
    <% @viewOnly = true %>
    <% @approver_sign = group.signature.try(:sign) %>
    <% @vendor_questionnaire_approvals = group.vendor_questionnaire_approvals %>
    <%= render "approver_signature",text: @text,approver_sign: @approver_sign,viewOnly: @viewOnly,vendor_questionnaire_approvals: @vendor_questionnaire_approvals %>
  <% end %>
<% end %>
<script type="text/javascript">

</script>